# JS 中的闭包是什么？

先来看一个闭包的写法：

```js
function foo(){
  var local = 1
  function bar(){
    local++
    return local
  }
  return bar
}

var func = foo()
func()
```

这就是闭包，local 变量和 bar 函数就组成了一个闭包（Closure）。

我对闭包的理解：

**「函数」和「函数内部能访问到的变量」的总和，就是一个闭包。**

就这么简单。

有的同学就疑惑了，闭包这么简单么？

**「我听说闭包是需要函数套函数，然后 return 一个函数的呀！」**

#### 为什么要函数套函数呢？

是因为需要局部变量，所以才把 local 放在一个函数里，如果不把 local 放在一个函数里，local 就是一个全局变量了，达不到使用闭包的目的——隐藏变量。

有些人看到「闭包」这个名字，就一定觉得要用什么包起来才行。其实这是翻译问题，闭包的原文是 Closure，跟「包」没有任何关系。

所以函数套函数只是为了造出一个局部变量，跟闭包无关。

#### 为什么要 return bar 呢？

因为如果不 return，你就无法使用这个闭包。把 return bar 改成 window.bar = bar 也是一样的，只要让外面可以访问到这个 bar 函数就行了。

所以 return bar 只是为了 bar 能被使用，也跟闭包无关。

#### 闭包的作用

闭包常常用来「间接访问一个变量」。换句话说，「隐藏一个变量」。

**其实只要你懂了 JS 的作用域，你自然而然就懂了闭包，即使你不知道那就是闭包！**
